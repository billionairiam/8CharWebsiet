import{b as e,a as t,e as l,c as a,d as u,_ as s,g as n,u as o,h as i,f as r}from"./yx-copyright.b41633b8.js";import{r as A,d,o as c,c as f,w as y,n as p,b as m,t as h,j as g,p as x,a as _,k as b,R as v,q as w,i as k,f as C,h as S,u as B,v as I,F as N,S as R,x as V,T as z,U as D,V as G,y as L,W as E,z as $,X as O,l as M,D as Y,s as H,Y as U}from"./index-f90e4df2.js";import{_ as j,u as T,G as F,c as Q,g as P,a as Z,P as J,E as X,T as W,e as q,l as K,f as ee,S as te,C as le,h as ae,b as ue}from"./book.54e42c2b.js";import{u as se}from"./predict.f6e9962c.js";let ne="data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjREMEQwRkY0RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjREMEQwRkY1RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEQwRDBGRjJGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEQwRDBGRjNGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYG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";const oe=j({name:"u-avatar",emits:["click"],props:{bgColor:{type:String,default:"transparent"},src:{type:String,default:""},size:{type:[String,Number],default:"default"},mode:{type:String,default:"circle"},text:{type:String,default:""},imgMode:{type:String,default:"aspectFill"},index:{type:[String,Number],default:""},sexIcon:{type:String,default:"man"},levelIcon:{type:String,default:"level"},levelBgColor:{type:String,default:""},sexBgColor:{type:String,default:""},showSex:{type:Boolean,default:!1},showLevel:{type:Boolean,default:!1}},data(){return{error:!1,avatar:this.src?this.src:ne}},watch:{src(e){e?(this.avatar=e,this.error=!1):(this.avatar=ne,this.error=!0)}},computed:{wrapStyle(){let e={};return e.height="large"==this.size?"120rpx":"default"==this.size?"90rpx":"mini"==this.size?"70rpx":this.size+"rpx",e.width=e.height,e.flex=`0 0 ${e.height}`,e.backgroundColor=this.bgColor,e.borderRadius="circle"==this.mode?"500px":"5px",this.text&&(e.padding="0 6rpx"),e},imgStyle(){let e={};return e.borderRadius="circle"==this.mode?"500px":"5px",e},uText(){return String(this.text)[0]},uSexStyle(){let e={};return this.sexBgColor&&(e.backgroundColor=this.sexBgColor),e},uLevelStyle(){let e={};return this.levelBgColor&&(e.backgroundColor=this.levelBgColor),e}},methods:{loadError(){this.error=!0,this.avatar=ne},click(){this.$emit("click",this.index)}}},[["render",function(t,l,a,u,s,n){const o=v,i=w,r=A(d("u-icon"),e),C=k;return c(),f(C,{class:"u-avatar",style:p([n.wrapStyle]),onClick:n.click},{default:y((()=>[!n.uText&&s.avatar?(c(),f(o,{key:0,onError:n.loadError,style:p([n.imgStyle]),class:"u-avatar__img",src:s.avatar,mode:a.imgMode},null,8,["onError","style","src","mode"])):n.uText?(c(),f(i,{key:1,class:"u-line-1",style:{fontSize:"38rpx"}},{default:y((()=>[m(h(n.uText),1)])),_:1})):g(t.$slots,"default",{key:2},void 0,!0),a.showSex?(c(),f(C,{key:3,class:x(["u-avatar__sex",["u-avatar__sex--"+a.sexIcon]]),style:p([n.uSexStyle])},{default:y((()=>[_(r,{name:a.sexIcon,size:"20"},null,8,["name"])])),_:1},8,["class","style"])):b("v-if",!0),a.showLevel?(c(),f(C,{key:4,class:"u-avatar__level",style:p([n.uLevelStyle])},{default:y((()=>[_(r,{name:a.levelIcon,size:"20"},null,8,["name"])])),_:1},8,["style"])):b("v-if",!0)])),_:3},8,["style","onClick"])}],["__scopeId","data-v-6462b534"]]),ie={__name:"header",setup(l){const a=C(!1),u=T(),s=S((()=>{const e=1===u.gender?"乾造":"坤造";return{pic:F(u.zodiac),lunar:`阴历：${u.datetime.lunar}`,solar:`阳历：${u.datetime.solar}`,realname:u.realname,type:`(${e})`}}));return(l,u)=>{const n=A(d("u-avatar"),oe),o=k,i=A(d("u-icon"),e),r=A(d("yx-sheet"),t);return c(),f(r,{margin:[0,0],padding:[0,10]},{default:y((()=>[_(o,{class:"u-flex u-row-center u-col-center"},{default:y((()=>[_(o,{class:"u-flex u-row-center u-col-start"},{default:y((()=>[_(o,{id:"index-main-header-left",class:"u-m-r-30 u-row-center",style:{width:"160rpx"}},{default:y((()=>[_(o,{class:"u-flex u-row-center u-col-center"},{default:y((()=>[_(n,{height:88,src:B(s).pic,width:88},null,8,["src"])])),_:1}),_(o,{class:"u-m-t-10 u-flex u-row-center u-col-center"},{default:y((()=>[_(o,{class:"yx-text-weight-b u-font-24 u-line-1"},{default:y((()=>[m(h(a.value?"*".repeat(B(s).realname.length):B(s).realname),1)])),_:1}),_(i,{"font-size":24,name:a.value?"eye-fill":"eye-off",class:"u-p-l-10",onClick:u[0]||(u[0]=e=>a.value=!a.value)},null,8,["name"])])),_:1})])),_:1}),_(o,{id:"index-main-header-right"},{default:y((()=>[_(o,{class:"u-flex u-m-b-20"},{default:y((()=>[_(o,{class:"yx-text-weight-b"},{default:y((()=>[m(h(B(s).lunar),1)])),_:1}),_(o,{class:"yx-text-weight-b u-type-primary-dark u-m-l-6"},{default:y((()=>[m(h(B(s).type),1)])),_:1})])),_:1}),_(o,{class:"yx-text-weight-b"},{default:y((()=>[m(h(B(s).solar),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}};const re=j({name:"u-loading",props:{mode:{type:String,default:"circle"},color:{type:String,default:"#c7c7c7"},size:{type:[String,Number],default:"34"},show:{type:Boolean,default:!0}},computed:{cricleStyle(){let e={};return e.width=this.size+"rpx",e.height=this.size+"rpx","circle"==this.mode&&(e.borderColor=`#e4e4e4 #e4e4e4 #e4e4e4 ${this.color?this.color:"#c7c7c7"}`),e}}},[["render",function(e,t,l,a,u,s){const n=k;return l.show?(c(),f(n,{key:0,class:x(["u-loading","circle"==l.mode?"u-loading-circle":"u-loading-flower"]),style:p([s.cricleStyle])},null,8,["class","style"])):b("v-if",!0)}],["__scopeId","data-v-16738c2d"]]);const Ae=j({name:"u-modal",emits:["update:modelValue","input","confirm","cancel"],props:{value:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:""},title:{type:[String],default:"提示"},width:{type:[Number,String],default:600},content:{type:String,default:"内容"},showTitle:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},confirmColor:{type:String,default:"#2979ff"},cancelColor:{type:String,default:"#606266"},borderRadius:{type:[Number,String],default:16},titleStyle:{type:Object,default:()=>({})},contentStyle:{type:Object,default:()=>({})},cancelStyle:{type:Object,default:()=>({})},confirmStyle:{type:Object,default:()=>({})},zoom:{type:Boolean,default:!0},asyncClose:{type:Boolean,default:!1},maskCloseAble:{type:Boolean,default:!1},negativeTop:{type:[String,Number],default:0},blur:{type:[Number,String],default:0}},data:()=>({loading:!1,popupValue:!1}),computed:{valueCom(){return this.modelValue},cancelBtnStyle(){return Object.assign({color:this.cancelColor},this.cancelStyle)},confirmBtnStyle(){return Object.assign({color:this.confirmColor},this.confirmStyle)},uZIndex(){return this.zIndex?this.zIndex:this.$u.zIndex.popup}},watch:{valueCom:{immediate:!0,handler(e){!0===e&&(this.loading=!1),this.popupValue=e}}},methods:{confirm(){this.asyncClose?this.loading=!0:(this.$emit("input",!1),this.$emit("update:modelValue",!1)),this.$emit("confirm")},cancel(){this.$emit("cancel"),this.$emit("input",!1),this.$emit("update:modelValue",!1),setTimeout((()=>{this.loading=!1}),300)},popupClose(){this.$emit("input",!1),this.$emit("update:modelValue",!1)},clearLoading(){this.loading=!1}}},[["render",function(e,t,a,u,s,n){const o=k,i=A(d("u-loading"),re),r=A(d("u-popup"),l);return c(),f(o,null,{default:y((()=>[_(r,{blur:a.blur,zoom:a.zoom,mode:"center",popup:!1,"z-index":n.uZIndex,modelValue:s.popupValue,"onUpdate:modelValue":t[0]||(t[0]=e=>s.popupValue=e),length:a.width,"mask-close-able":a.maskCloseAble,"border-radius":a.borderRadius,onClose:n.popupClose,"negative-top":a.negativeTop},{default:y((()=>[_(o,{class:"u-model"},{default:y((()=>[a.showTitle?(c(),f(o,{key:0,class:"u-model__title u-line-1",style:p([a.titleStyle])},{default:y((()=>[m(h(a.title),1)])),_:1},8,["style"])):b("v-if",!0),_(o,{class:"u-model__content"},{default:y((()=>[e.$slots.default||e.$slots.$default?(c(),f(o,{key:0,style:p([a.contentStyle])},{default:y((()=>[g(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])):(c(),f(o,{key:1,class:"u-model__content__message",style:p([a.contentStyle])},{default:y((()=>[m(h(a.content),1)])),_:1},8,["style"]))])),_:3}),a.showCancelButton||a.showConfirmButton?(c(),f(o,{key:1,class:"u-model__footer u-border-top"},{default:y((()=>[a.showCancelButton?(c(),f(o,{key:0,"hover-stay-time":100,"hover-class":"u-model__btn--hover",class:"u-model__footer__button",style:p([n.cancelBtnStyle]),onClick:n.cancel},{default:y((()=>[m(h(a.cancelText),1)])),_:1},8,["style","onClick"])):b("v-if",!0),a.showConfirmButton||e.$slots["confirm-button"]?(c(),f(o,{key:1,"hover-stay-time":100,"hover-class":a.asyncClose?"none":"u-model__btn--hover",class:"u-model__footer__button hairline-left",style:p([n.confirmBtnStyle]),onClick:n.confirm},{default:y((()=>[e.$slots["confirm-button"]?g(e.$slots,"confirm-button",{key:0},void 0,!0):(c(),I(N,{key:1},[s.loading?(c(),f(i,{key:0,mode:"circle",color:a.confirmColor},null,8,["color"])):(c(),I(N,{key:1},[m(h(a.confirmText),1)],64))],64))])),_:3},8,["hover-class","style","onClick"])):b("v-if",!0)])),_:3})):b("v-if",!0)])),_:3})])),_:3},8,["blur","zoom","z-index","modelValue","length","mask-close-able","border-radius","onClose","negative-top"])])),_:3})}],["__scopeId","data-v-f8df34a9"]]),de=j({__name:"yx-book-tips",setup(e,{expose:t}){const l=C({show:!1,type:"",label:"",detail:{}}),a=R();const u=S((()=>{const e=l.value.detail,t={tip:"精评",formula:"古决",func:"十神功能",seek:"查法"},a=[];for(let l in e)t[l]?a.push({title:t[l],content:e[l]}):"books"===l&&a.push(...e[l]);return a})),s=()=>l.value.show=!1;return t({setDetail:async function(e,t){l.value.label=t;const u=a[e].find((e=>e.label===t));l.value.detail=u,(null==u?void 0:u.label)&&(l.value.show=!0)}}),(e,t)=>{const a=k,n=w,o=z,i=A(d("u-modal"),Ae);return c(),f(i,{modelValue:l.value.show,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value.show=e),title:l.value.label,"title-style":{paddingTop:".5em"},"show-confirm-button":!1,"show-cancel-button":!1,"mask-close-able":!0,onConfirm:s,onCancel:s},{default:y((()=>[_(o,{"scroll-y":"true",style:{height:"700rpx"}},{default:y((()=>[_(a,{class:"u-p-20"},{default:y((()=>[(c(!0),I(N,null,V(B(u),(e=>(c(),I(N,null,[_(a,{class:"title u-m-y-10"},{default:y((()=>[m(h(e.title),1)])),_:2},1024),_(a,{class:"content u-m-t-10 u-m-b-30"},{default:y((()=>[_(n,{decode:""},{default:y((()=>[m(h(e.content),1)])),_:2},1024)])),_:2},1024)],64)))),256))])),_:1})])),_:1})])),_:1},8,["modelValue","title","title-style"])}}},[["__scopeId","data-v-f8a55d3e"]]),ce=j({__name:"tabel",setup(t){const l=T(),a=C(),u=S((()=>{const e=[{label:"主星",key:"main"},{label:"天干",key:"top"},{label:"地支",key:"bottom"},{label:"藏干",key:"bottom_hide"},{label:"副星",key:"assiste"},{label:"星运",key:"trend"},{label:"自坐",key:"selfsit"},{label:"纳音",key:"nayin"},{label:"空亡",key:"empty"},{label:"神煞",key:"gods"}],t=[{type:"default",data:{label:"\\",year:"年柱",month:"月柱",day:"日柱",time:"时柱"}}];for(let a of e){const e={type:"default",data:{label:"",year:"",month:"",day:"",time:""}};["main","assiste"].includes(a.key)?(e.data=l.start[a.key],e.type="main"===a.key?"default":"list"):["top","bottom"].includes(a.key)?(e.type="pillar",e.data=l[a.key]):["bottom_hide","gods"].includes(a.key)?(e.type="list",e.data=l[a.key]):e.data=l[a.key],e.key=a.key,e.data.label=a.label,t.push(e)}return t}));function s(e){return P(`static/icon/element/${Q(e,"index")}.svg`)}function n(e,t){const l={main:"relation",trend:"trend",selfsit:"trend",assiste:"relation",nayin:"nayin",gods:"gods"};l[e]&&!["元男","元女"].includes(t)&&a.value.setDetail(l[e],t)}return(t,l)=>{const o=w,i=k,r=A(d("u-icon"),e),p=A(d("yx-book-tips"),de);return c(),f(i,null,{default:y((()=>[(c(!0),I(N,null,V(B(u),((e,t)=>(c(),f(i,{class:x(["u-flex u-col-top u-p-y-16",{"bg-white":t%2==0}])},{default:y((()=>[(c(),I(N,null,V(["label","year","month","day","time"],((t,l)=>_(i,{class:x([{left:0===l},"item"])},{default:y((()=>[0===l||"default"===e.type?(c(),f(o,{key:0,class:"yx-text-weight-b",onClick:l=>n(e.key,e.data[t])},{default:y((()=>[m(h(e.data[t]),1)])),_:2},1032,["onClick"])):"pillar"===e.type?(c(),f(i,{key:1,class:"u-flex u-row-center u-col-center"},{default:y((()=>{return[_(i,{class:x([(l=e.data[t],[`u-type-${Q(l)}`]),"yx-text-weight-b u-font-44"])},{default:y((()=>[m(h(e.data[t]),1)])),_:2},1032,["class"]),_(i,{class:"u-m-l-4"},{default:y((()=>[_(r,{name:s(e.data[t]),size:40},null,8,["name"])])),_:2},1024)];var l})),_:2},1024)):"list"===e.type?(c(!0),I(N,{key:2},V(e.data[t],(t=>(c(),f(i,{class:x(["yx-text-weight-b u-m-b-8",["bottom_hide"===e.key?`u-type-${B(Q)(t)}`:"","gods"===e.key?"u-type-primary":""]]),onClick:l=>n(e.key,t)},{default:y((()=>[m(h(t+("bottom_hide"===e.key?B(Q)(t,"label"):"")),1)])),_:2},1032,["class","onClick"])))),256)):b("v-if",!0)])),_:2},1032,["class"]))),64))])),_:2},1032,["class"])))),256)),_(p,{ref_key:"tips",ref:a},null,512)])),_:1})}}},[["__scopeId","data-v-0e1a6bfd"]]),fe={__name:"book",setup(e){const l=Z(),s=se(),n=T(),o=C(0),i=C(!1);let r=null;const p=async e=>{if(!i.value)try{i.value=!0,(e=>{s.setPrediction(e,[{data:[{label:"详细解读",content:""}]}])})(e),r=G({url:"wss://0x311008.com/8char/get-prediction",complete:()=>{}}),r.onOpen((()=>{r.send({data:JSON.stringify(n.defaultPredictPayload(e)),success:()=>console.log("请求发送成功"),fail:e=>{throw new Error("请求发送失败")}})})),r.onMessage((t=>{s.appendTitle(e,t.data)})),r.onClose((()=>{i.value=!1,r=null})),r.onError((e=>{throw new Error(`连接错误: ${e.errMsg}`)}))}catch(t){uni.$u.toast(t.message||"预测失败"),i.value=!1,null==r||r.close()}};return D((()=>{r&&r.close()})),(e,n)=>{const r=A(d("u-tabs"),a),g=w,x=k,v=A(d("u-button"),u),C=A(d("yx-sheet"),t);return c(),f(x,null,{default:y((()=>[_(r,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=e=>o.value=e),list:B(l).books,name:"title",swiper:""},null,8,["modelValue","list"]),_(C,{margin:[0,0],padding:[30,10]},{default:y((()=>{var e;return[b(" 显示 tab 的内容 "),(c(!0),I(N,null,V(null==(e=B(l).books[o.value])?void 0:e.content,(e=>(c(),f(x,{class:"u-m-b-40"},{default:y((()=>[e.title?(c(),f(x,{key:0,class:"u-p-b-10"},{default:y((()=>[_(g,{class:"yx-text-weight-b u-font-28 u-type-warning-dark"},{default:y((()=>[m(h(e.title),1)])),_:2},1024)])),_:2},1024)):b("v-if",!0)])),_:2},1024)))),256)),b(" 如果当前 tab 无预测数据，显示按钮 "),B(s).getPrediction(o.value)?(c(),I(N,{key:1},[b(" 显示预测数据 "),_(x,null,{default:y((()=>[(c(!0),I(N,null,V(B(s).getPrediction(o.value),((e,t)=>(c(),f(x,{key:t,class:"u-m-b-40"},{default:y((()=>[_(x,{class:"u-flex u-m-b-20"},{default:y((()=>[_(g,{class:"yx-text-weight-b u-font-28"},{default:y((()=>[m(h(e.title),1)])),_:2},1024)])),_:2},1024),(c(!0),I(N,null,V(e.data,((e,t)=>(c(),f(x,{key:t},{default:y((()=>[_(x,null,{default:y((()=>[_(g,{class:"yx-text-weight-b u-font-26"},{default:y((()=>[m(h(e.label),1)])),_:2},1024)])),_:2},1024),_(x,{class:"u-m-t-10 u-m-b-20"},{default:y((()=>[_(g,{class:"u-font-26",decode:""},{default:y((()=>[m(h(e.content),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)))),128))])),_:1})],2112)):(c(),f(x,{key:0,class:"u-p-30"},{default:y((()=>[_(v,{type:"primary",loading:i.value,onClick:n[1]||(n[1]=e=>p(o.value))},{default:y((()=>[m(h(i.value?"测算中...":"点 击 测 算"),1)])),_:1},8,["loading"])])),_:1}))]})),_:1})])),_:1})}}},ye=j({__name:"yx-pillar-relation",props:{top:{type:Object,default:()=>({list:[],mark:[]})},bottom:{type:Object,default:()=>({list:[],mark:[]})}},setup(e,{expose:t}){const a=e,u=["年柱","月柱","日柱","时柱","大运","流年","流月","流日","流时"],s=S((()=>a.top.list.length)),n=S((()=>100/s.value));function o(e){return(e[e.length-1].index-e[0].index)*n.value}function i(e){return(2*e[0].index+1)/2*n.value}function r(e){return n.value*e.index+n.value/2-2}const g=S((()=>[u.slice(0,s.value),a.top.list,a.bottom.list])),b=C(!1);return t({showPopup:()=>b.value=!0}),(e,t)=>{const u=k,s=z,v=A(d("u-popup"),l);return c(),f(v,{closeable:"",modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e),mode:"bottom"},{default:y((()=>[(c(),I(N,null,V(["top","","bottom"],(e=>(c(),I(N,null,[["top","bottom"].includes(e)?(c(),f(s,{key:0,"scroll-y":"true",class:"u-p-y-30",style:p({height:"top"===e?"20vh":"40vh"})},{default:y((()=>[(c(!0),I(N,null,V(a[e].mark,(e=>(c(),f(u,null,{default:y((()=>[_(u,{class:"u-text-center u-tips-color u-p-b-20 u-p-l-20 yx-text-weight-n",style:p({width:o(e.mark)+"%",marginLeft:i(e.mark)+"%"})},{default:y((()=>[m(h(e.label),1)])),_:2},1032,["style"]),_(u,{class:"u-flex u-rela u-p-b-50"},{default:y((()=>[_(u,{class:"pillar-line u-abso",style:p({width:o(e.mark)+"%",marginLeft:i(e.mark)+"%"})},null,8,["style"]),(c(!0),I(N,null,V(e.mark,(e=>(c(),f(u,{class:x(["u-abso pillar-round",[`u-type-${B(Q)(e.label)}-bg`]]),style:p({marginLeft:r(e)+"%"})},{default:y((()=>[m(h(e.label),1)])),_:2},1032,["class","style"])))),256))])),_:2},1024)])),_:2},1024)))),256))])),_:2},1032,["style"])):(c(!0),I(N,{key:1},V(B(g),((e,t)=>(c(),f(u,{class:"u-flex u-text-center"},{default:y((()=>[(c(!0),I(N,null,V(e,(e=>(c(),f(u,{style:p({width:B(n)+"%"}),class:x([0===t?"u-tips-color":"",t>0?`yx-text-weight-n u-m-y-6 u-font-40 u-type-${B(Q)(e)}`:""])},{default:y((()=>[m(h(e),1)])),_:2},1032,["style","class"])))),256))])),_:2},1024)))),256))],64)))),64))])),_:1},8,["modelValue"])}}},[["__scopeId","data-v-688f6386"]]),pe=j({__name:"relation",setup(e){const l=T(),a=S((()=>{const e=[];return e.push({title:"天干留意",content:[...new Set(l.tb_relation.top.map((e=>e.title)))]}),e.push({title:"地支留意",content:[...new Set(l.tb_relation.bottom.map((e=>e.title)))]}),e})),u=C(),s=()=>{u.value.showPopup()},n=S((()=>{const e={top:{list:[],mark:l.tb_relation.top},bottom:{list:[],mark:l.tb_relation.bottom}};for(let t of J)e.top.list.push(l.top[t]),e.bottom.list.push(l.bottom[t]);return e}));return(e,l)=>{const o=k,i=A(d("yx-sheet"),t),r=w;return c(),f(o,null,{default:y((()=>[_(o,{onClick:s},{default:y((()=>[_(i,{margin:[30,20],padding:[0,20],round:3,shadow:2},{default:y((()=>[_(o,{class:"yx-text-weight-b u-text-center"},{default:y((()=>[m("智能四柱图示")])),_:1})])),_:1}),(c(!0),I(N,null,V(B(a),(e=>(c(),f(o,{class:"u-flex u-col-top u-m-x-30 u-m-y-20 box"},{default:y((()=>[_(o,{class:"u-p-y-10 yx-text-weight-b u-text-center left"},{default:y((()=>[m(h(e.title),1)])),_:2},1024),_(o,{class:"u-p-l-10 u-p-r-20 right"},{default:y((()=>[_(r,null,{default:y((()=>[m(h(e.content.length>0?e.content.join(";"):"无合冲关系"),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1}),_(B(ye),{ref_key:"relation",ref:u,top:B(n).top,bottom:B(n).bottom},null,8,["top","bottom"])])),_:1})}}},[["__scopeId","data-v-6f71949a"]]),me={__name:"basic",setup:e=>(e,l)=>{const a=A(d("yx-sheet"),t),u=k;return c(),f(u,null,{default:y((()=>[_(a,{margin:[0,0],padding:[0,0],round:3,shadow:2},{default:y((()=>[_(ce)])),_:1}),_(pe),_(fe)])),_:1})}},he={__name:"live",setup(e){const l=C({loading:!1,list:[]}),a=T();function n(){L({title:"网络请求中！"}),l.value.loading=!0,E(a.defaultPayload).then((e=>{l.value.loading=!1,l.value.list=e,$()})).catch((()=>{l.value.loading=!1,$(),setTimeout((()=>{uni.$u.toast("网络请求失败！")}),1800)}))}return(e,a)=>{const o=A(d("u-image"),s),i=k,r=A(d("u-button"),u),p=w,g=A(d("yx-sheet"),t);return c(),f(i,{class:"u-p-y-30 u-p-x-20"},{default:y((()=>[_(g,{margin:[0,0],round:3,shadow:2},{default:y((()=>[l.value.list.length?(c(),f(i,{key:1},{default:y((()=>[(c(!0),I(N,null,V(l.value.list,(e=>(c(),f(i,{class:"u-m-b-40"},{default:y((()=>[_(i,{class:"u-flex u-m-b-20"},{default:y((()=>[_(p,{class:"yx-text-weight-b u-font-28"},{default:y((()=>[m(h(e.title),1)])),_:2},1024)])),_:2},1024),(c(!0),I(N,null,V(e.data,(e=>(c(),f(i,null,{default:y((()=>[_(i,null,{default:y((()=>[_(p,{class:"yx-text-weight-b u-font-26"},{default:y((()=>[m(h(e.label),1)])),_:2},1024)])),_:2},1024),_(i,{class:"u-m-t-10 u-m-b-20"},{default:y((()=>[_(p,{class:"u-font-26",decode:""},{default:y((()=>[m(h(e.content),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:2},1024)))),256))])),_:1})):(c(),f(i,{key:0},{default:y((()=>[_(i,{class:"u-flex u-row-center"},{default:y((()=>[_(o,{height:400,src:B(P)("static/icon/other/coding.svg"),width:400,class:"u-m-t-40 u-m-b-30"},null,8,["src"])])),_:1}),_(r,{loading:l.value.loading,class:"u-m-b-30",type:"primary ",onClick:n},{default:y((()=>[m("四 柱 解 析")])),_:1},8,["loading"])])),_:1}))])),_:1})])),_:1})}}},ge={__name:"detail-item",props:{detail:{type:Array,default:[]}},setup(e){const t=e,l=S((()=>[`u-flex-${t.detail.length?Math.floor(12/t.detail.length):1}`]));return(e,a)=>{const u=w,s=k;return c(),f(s,{class:"u-flex"},{default:y((()=>[(c(!0),I(N,null,V(t.detail,(e=>(c(),f(s,{class:x([B(l),"u-m-b-10"])},{default:y((()=>[_(u,{class:"yx-text-weight-b u-font-24"},{default:y((()=>[m(h(e),1)])),_:2},1024)])),_:2},1032,["class"])))),256))])),_:1})}}},xe={__name:"detail",setup(l){const a=T(),u=S((()=>{var e,t,l,u,s,n,o,i;return[[`生肖：${a.zodiac}`,"性别："+(1===a.gender?"男":"女")],[`星座：${a.constellation}`,`日空：${a.empty.day}`],[`胎元：${null==(e=a.embryo[0])?void 0:e[0]} (${null==(t=a.embryo[0])?void 0:t[1]})`,`胎息：${null==(l=a.embryo[1])?void 0:l[0]} (${null==(u=a.embryo[1])?void 0:u[1]})`],[`命宫：${null==(s=a.embryo[2])?void 0:s[0]} (${null==(n=a.embryo[2])?void 0:n[1]})`,`身宫：${null==(o=a.embryo[3])?void 0:o[0]} (${null==(i=a.embryo[3])?void 0:i[1]})`],[`${a.festival.pre.label}：${a.festival.pre.time}`,`${a.festival.next.label}：${a.festival.next.time}`]]}));return(l,s)=>{const n=A(d("u-icon"),e),o=k,i=w,r=A(d("yx-sheet"),t);return c(),f(o,{class:"u-p-x-20 u-p-t-20"},{default:y((()=>[B(a).timestamp?(c(),f(r,{key:0,margin:[0,0],padding:[30,30],round:3,shadow:10},{default:y((()=>[B(a).timestamp?(c(),f(o,{key:0,class:"u-flex u-m-b-16"},{default:y((()=>[_(o,{class:"u-flex u-row-center"},{default:y((()=>[_(o,{class:"u-p-r-16"},{default:y((()=>[_(n,{name:"account-fill"})])),_:1}),_(i,{"font-size":28,class:"yx-text-weight-b",label:""},{default:y((()=>[m("命主信息")])),_:1})])),_:1})])),_:1})):b("v-if",!0),(c(!0),I(N,null,V(B(u),(e=>(c(),f(ge,{detail:e},null,8,["detail"])))),256))])),_:1})):b("v-if",!0)])),_:1})}}},_e={__name:"weigh-bone",setup(l){const a=Z();return(l,u)=>{const s=A(d("u-icon"),e),n=w,o=k,i=A(d("yx-sheet"),t);return c(),f(o,{class:"u-p-b-30"},{default:y((()=>[B(a).weigh_bone.formula?(c(),f(i,{key:0,margin:[20,20],padding:[30,30],round:3,shadow:10},{default:y((()=>[_(o,{class:"u-flex u-m-b-16"},{default:y((()=>[_(o,{class:"u-flex-6 u-row-center u-col-top"},{default:y((()=>[_(o,{class:"yx-text-weight-b"},{default:y((()=>[_(s,{name:"hourglass-half-fill"}),_(n,{class:"u-m-l-10"},{default:y((()=>[m("袁天罡称骨")])),_:1})])),_:1})])),_:1}),_(o,{class:"u-flex-6 u-flex u-row-right"},{default:y((()=>[_(n,{class:"u-main-color"},{default:y((()=>[_(s,{label:"重量: "+B(a).weigh_bone.weight,"label-color":"#303133",name:"rmb-circle-fill"},null,8,["label"])])),_:1})])),_:1})])),_:1}),(c(),I(N,null,V(["formula","explanation","commentary"],((e,t)=>(c(),I(N,null,[B(a).weigh_bone[e]?(c(),f(o,{key:0},{default:y((()=>[_(o,{class:x([0===t?"u-m-y-14":"u-m-t-28","yx-text-weight-b u-font-26"])},{default:y((()=>[m(h(["歌诀","解析","点评"][t]),1)])),_:2},1032,["class"]),_(n,{class:x([{"yx-text-weight-b":0===t,"u-font-28":1!==t,"u-font-24":1===t},"u-m-t-8"]),decode:""},{default:y((()=>[m(h(B(a).weigh_bone[e]),1)])),_:2},1032,["class"])])),_:2},1024)):b("v-if",!0)],64)))),64))])),_:1})):b("v-if",!0)])),_:1})}}};const be=j({name:"u-switch",emits:["update:modelValue","input","change"],props:{value:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:[Number,String],default:50},activeColor:{type:String,default:"#2979ff"},inactiveColor:{type:String,default:"#ffffff"},vibrateShort:{type:Boolean,default:!1},activeValue:{type:[Number,String,Boolean],default:!0},inactiveValue:{type:[Number,String,Boolean],default:!1}},data:()=>({}),computed:{valueCom(){return this.modelValue},switchStyle(){let e={};return e.fontSize=this.size+"rpx",e.backgroundColor=this.valueCom?this.activeColor:this.inactiveColor,e},loadingColor(){return this.valueCom?this.activeColor:null}},methods:{onClick(){this.disabled||this.loading||(this.vibrateShort&&O(),this.$emit("input",!this.valueCom),this.$emit("update:modelValue",!this.valueCom),this.$nextTick((()=>{this.$emit("change",this.valueCom?this.activeValue:this.inactiveValue)})))}}},[["render",function(e,t,l,a,u,s){const n=A(d("u-loading"),re),o=k;return c(),f(o,{class:x(["u-switch",[1==s.valueCom?"u-switch--on":"",l.disabled?"u-switch--disabled":""]]),onClick:s.onClick,style:p([s.switchStyle])},{default:y((()=>[_(o,{class:"u-switch__node node-class",style:p({width:e.$u.addUnit(l.size),height:e.$u.addUnit(l.size)})},{default:y((()=>[_(n,{show:l.loading,class:"u-switch__loading",size:.6*l.size,color:s.loadingColor},null,8,["show","size","color"])])),_:1},8,["style"])])),_:1},8,["class","onClick","style"])}],["__scopeId","data-v-6f39a095"]]);const ve=j({name:"u-line-progress",props:{round:{type:Boolean,default:!0},type:{type:String,default:""},activeColor:{type:String,default:"#19be6b"},inactiveColor:{type:String,default:"#ececec"},percent:{type:Number,default:0},showPercent:{type:Boolean,default:!0},height:{type:[Number,String],default:28},striped:{type:Boolean,default:!1},stripedActive:{type:Boolean,default:!1}},data:()=>({}),computed:{progressStyle(){let e={};return e.width=this.percent+"%",this.activeColor&&(e.backgroundColor=this.activeColor),e}},methods:{}},[["render",function(e,t,l,a,u,s){const n=k;return c(),f(n,{class:"u-progress",style:p({borderRadius:l.round?"100rpx":0,height:l.height+"rpx",backgroundColor:l.inactiveColor})},{default:y((()=>[_(n,{class:x([[l.type?`u-type-${l.type}-bg`:"",l.striped?"u-striped":"",l.striped&&l.stripedActive?"u-striped-active":""],"u-active"]),style:p([s.progressStyle])},{default:y((()=>[e.$slots.default||e.$slots.$default?g(e.$slots,"default",{key:0},void 0,!0):l.showPercent?(c(),I(N,{key:1},[m(h(l.percent+"%"),1)],64)):b("v-if",!0)])),_:3},8,["class","style"])])),_:3},8,["style"])}],["__scopeId","data-v-2f201511"]]),we={__name:"pro-decl",props:{auto:{type:Boolean,default:!1}},setup(e){const t=e,l=T();function a(e){let l="primary";if(t.auto){const t=e[0],a=X.labels.indexOf(t);-1!==a&&(l=X.types[a].trim())}return[`u-type-${l}-bg`,"yx-text-weight-b","u-text-center","u-p-y-6"]}return(e,t)=>{const u=k;return c(),f(u,{class:"u-flex"},{default:y((()=>[(c(!0),I(N,null,V(B(l).element.pro_decl,(e=>(c(),f(u,{key:e,class:x(a(e)),style:{color:"#f8f8f8",width:"20%"}},{default:y((()=>[m(h(e),1)])),_:2},1032,["class"])))),128))])),_:1})}}},ke={__name:"elements",setup(l){const a=T(),u=X.colors,s=C(!1),n=S((()=>{const e=s.value?"include":"ninclude";return a.element[e].list}));return(l,o)=>{const i=A(d("u-icon"),e),r=w,p=k,g=A(d("u-switch"),be),x=A(d("u-line-progress"),ve),b=A(d("yx-sheet"),t);return c(),f(b,{margin:[20,20],padding:[30,30],round:3,shadow:10},{default:y((()=>[_(p,{class:"u-flex u-m-b-30"},{default:y((()=>[_(p,{class:"u-flex u-flex-6 flex-row-center"},{default:y((()=>[_(p,{class:"yx-text-weight-b"},{default:y((()=>[_(i,{name:"hourglass-half-fill"}),_(r,{class:"u-m-l-10"},{default:y((()=>[m("五行数据")])),_:1})])),_:1})])),_:1}),_(p,{class:"u-flex-6"},{default:y((()=>[_(p,{class:"u-flex u-row-right u-col-center"},{default:y((()=>[_(r,{"font-size":28,class:"yx-text-weight-b u-p-r-16"},{default:y((()=>[m("包含藏干")])),_:1}),_(p,null,{default:y((()=>[_(g,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e),size:"32"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(c(!0),I(N,null,V(B(n),((e,t)=>(c(),f(p,{class:"u-flex u-row-center u-m-y-20"},{default:y((()=>[_(r,{class:"yx-text-weight-b u-p-r-16"},{default:y((()=>[m(h(B(X).labels[t]),1)])),_:2},1024),_(p,{style:{width:"100%"}},{default:y((()=>[_(x,{"active-color":B(u)[t],height:32,percent:e.sacle,striped:""},{default:y((()=>[_(r)])),_:2},1032,["active-color","percent"])])),_:2},1024),_(p,{class:"yx-text-weight-b u-text-right",style:{width:"200rpx"}},{default:y((()=>[m(h(e.total+"个 "+B(a).element.relation[t]),1)])),_:2},1024)])),_:2},1024)))),256)),_(p,{class:"u-m-t-40"},{default:y((()=>[_(we,{auto:""})])),_:1})])),_:1})}}},Ce={__name:"detail",setup:e=>(e,t)=>{const l=k;return c(),f(l,{class:"u-m-b-30"},{default:y((()=>[_(xe),_(ke),_(_e)])),_:1})}},Se={__name:"yx-coding",props:{title:{type:String,default:""}},setup(e){const l=e;return(e,a)=>{const u=A(d("u-image"),s),o=k,i=A(d("yx-copyright"),n),r=A(d("yx-sheet"),t);return c(),f(o,{class:"u-m-b-40"},{default:y((()=>[_(r,{margin:[20,0],round:3,shadow:2},{default:y((()=>[_(o,{class:"u-flex u-row-center u-col-center"},{default:y((()=>[_(u,{height:400,src:B(P)("static/icon/other/coding.svg"),width:400,class:"u-m-t-40"},null,8,["src"])])),_:1}),_(o,{class:"yx-text-weight-b u-font-42 u-m-t-40 u-text-center"},{default:y((()=>[m(h(l.title),1)])),_:1}),_(o,{class:"yx-text-weight-b u-font-32 u-m-t-30 u-text-center"},{default:y((()=>[m("功能调试中,敬请期待!")])),_:1}),_(i)])),_:1})])),_:1})}}},Be=j({__name:"detail",setup(e){const l=C(),a=o(),u=T(),s=W.map((e=>e.list)),n=W.map((e=>e.index)),i=S((()=>100/a.rowNum+"%")),r=S((()=>({7:22,8:21,9:20}[a.rowNum]??21))),g=S((()=>{var e,t,l,o;const i=[],r=[],A=[];for(let a of J)i.push(u.start.main[a]),r.push(u.top[a]),A.push(u.bottom[a]);for(let u=0;u<a.rowNum-4;u++){const d=new Array(3).fill(""),c=a[s[u]],f=a[n[u]];"童限"!==(null==(e=c[f])?void 0:e.pillar)&&(d[0]=q(null==(t=c[f])?void 0:t.pillar[0]),d[1]=null==(l=c[f])?void 0:l.pillar[0],d[2]=null==(o=c[f])?void 0:o.pillar[1]),i.push(d[0]),r.push(d[1]),A.push(d[2])}return[{type:"title",data:["年柱","月柱","日柱","时柱","大运","流年","流月","流日","流时"].slice(0,a.rowNum)},{type:"relation",data:i},{type:"pillar",data:r},{type:"pillar",data:A}]})),b=S((()=>{var e;const t=[];function l(e){const t=[];for(let l of e){const e=q(l);t.push({type:Q(l),label:[l+te[q(l)],e]})}return t}for(let a of J)t.push(l(u.bottom_hide[a]));for(let u=0;u<a.rowNum-4;u++){const i=a[s[u]],r=a[n[u]],A=(o=null==(e=i[r])?void 0:e.pillar[1],K.LunarUtil.ZHI_HIDE_GAN[o]??[]);t.push(l(A))}var o;return t})),v=S((()=>{var e;const t=[],l=[],o=[],i=[];for(let a of J)t.push(u.trend[a]),l.push(u.selfsit[a]),o.push(u.empty[a]),i.push(u.nayin[a]);for(let u=0;u<a.rowNum-4;u++){let r=null==(e=a[s[u]][a[n[u]]])?void 0:e.pillar,A=new Array(4).fill("");if(r&&"童限"!==r){let e,t=0,l=0;const{lunar:s}=a.currentLunar;if(0===u)t=K.LunarUtil.ZHI.includes(r[1])?K.LunarUtil.ZHI.indexOf(r[1])-1:null,e=r[0],l=K.LunarUtil.GAN.includes(r[0])?K.LunarUtil.ZHI.indexOf(r[1])-1:null;else if(1===u)t=s.getYearZhiIndexByLiChun(),e=s.getYearGanByLiChun(),l=s.getYearGanIndexByLiChun();else{const a=J[u-1];let n=`get${ee(a)}ZhiIndex`;t=s[n](),n=`get${ee(a)}Gan`,e=s[n](),n=`get${ee(a)}GanIndex`,l=s[n]()}const{bazi:n}=a.service;A[0]=null!==t?w(n.getDayGan(),n.getDayGanIndex(),t):"",A[1]=null!==t?w(e,l,t):"",A[2]=K.LunarUtil.XUN_KONG[K.LunarUtil.getXunIndex(r)]??"",A[3]=K.LunarUtil.NAYIN[r]??""}t.push(A[0]),l.push(A[1]),o.push(A[2]),i.push(A[3])}return[{type:"trend",data:t},{type:"trend",data:l},{type:"default",data:o},{type:"nayin",data:i}]}));function w(e,t,l){let a=le[e]+(t%2==0?l:-l);return a>=12&&(a-=12),a<0&&(a+=12),K.EightChar.CHANG_SHENG[a]}function R(e,t){["trend","relation","nayin"].includes(e)&&!["元男","元女"].includes(t)&&l.value.setDetail(e,t)}return(e,a)=>{const u=k,s=A(d("yx-sheet"),t),n=A(d("yx-book-tips"),de);return c(),f(u,null,{default:y((()=>[_(s,{margin:[0,0,0,10],padding:[20,0]},{default:y((()=>[(c(!0),I(N,null,V(B(g),(e=>(c(),f(u,null,{default:y((()=>[_(u,{class:"u-flex",style:{width:"100%","align-items":"stretch"}},{default:y((()=>[(c(!0),I(N,null,V(e.data,((t,l)=>(c(),f(u,{class:x(["u-text-center",[4===l?"yx-border-left":"","title"===e.type?"u-p-y-10":"u-p-y-5"]]),style:p({width:B(i)})},{default:y((()=>[_(u,{class:x(["u-col-center u-row-center yx-text-weight-b",["title"===e.type?"u-tips-color":"","pillar"===e.type?"u-font-40":"","pillar"===e.type?`u-type-${B(Q)(t)}`:""]]),onClick:l=>R(e.type,t)},{default:y((()=>[m(h(t),1)])),_:2},1032,["class","onClick"])])),_:2},1032,["class","style"])))),256))])),_:2},1024)])),_:2},1024)))),256))])),_:1}),_(u,{class:"u-m-y-10 u-m-x-20"},{default:y((()=>[_(u,{class:"u-flex u-flex-1 u-col-top"},{default:y((()=>[(c(!0),I(N,null,V(B(b),(e=>(c(),f(u,{style:p({width:B(i)}),class:"u-text-center"},{default:y((()=>[(c(!0),I(N,null,V(e,(e=>(c(),f(u,{class:x([["u-m-y-8",`u-font-${B(r)}`,`u-type-${e.type}`],"yx-text-weight-b"]),onClick:t=>R("relation",e.label[1])},{default:y((()=>[m(h(e.label[0]),1)])),_:2},1032,["class","onClick"])))),256))])),_:2},1032,["style"])))),256))])),_:1})])),_:1}),_(s,{margin:[0,0],padding:[20,0]},{default:y((()=>[(c(!0),I(N,null,V(B(v),((e,t)=>(c(),f(u,null,{default:y((()=>[_(u,{class:"u-flex",style:{"align-items":"stretch"}},{default:y((()=>[(c(!0),I(N,null,V(e.data,((l,a)=>(c(),f(u,{class:x([[0===t?"u-p-t-20":"",3===t?"u-p-b-20":"",4===a?"yx-border-left":""],"u-text-center u-p-y-8"]),style:p({width:B(i)})},{default:y((()=>[_(u,{class:"u-font-20 u-col-center u-row-center yx-text-weight-b",onClick:t=>R(e.type,l)},{default:y((()=>[m(h(l),1)])),_:2},1032,["onClick"])])),_:2},1032,["class","style"])))),256))])),_:2},1024)])),_:2},1024)))),256))])),_:1}),_(n,{ref_key:"tips",ref:l},null,512)])),_:1})}}},[["__scopeId","data-v-39563530"]]),Ie=[{list:["startYear","pillar","startAge","shishen"],suffix:["","","岁",""]},{list:["year","pillar","age","shishen"],suffix:["","","岁",""]},{list:["jieqi","date","pillar","shishen"],suffix:new Array(4).fill("")},{list:["nongli","pillar","shishen"],suffix:new Array(3).fill("")},{list:["time","pillar","shishen"],suffix:new Array(3).fill("")}],Ne=W.map((e=>e.index)),Re=["resolveLiuYear","resolveLiuMonth","resolveLiuDay","resolveLiuTime"],Ve=j({__name:"scroll-list",setup(e,{expose:l}){const a=o(),u=C({dayun:0,year:0,month:0,day:0,time:0});return l({pullScrollLeft:async()=>{const e=a.rowNum-4,t=W.map((e=>e.type)).slice(0,e),l=W.map((e=>e.index)).slice(0,e);for(let s=0;s<t.length;s++){const e=t[s],n=a[l[s]],o=await uni.$u.getRect(`.el-${e} .scroll-view-item`);u.value[e]=(null==o?void 0:o.width)*n}await M()}}),(e,l)=>{const s=w,n=k,o=z,i=A(d("yx-sheet"),t);return c(),f(n,null,{default:y((()=>[(c(!0),I(N,null,V(B(W),((e,t)=>(c(),f(n,{key:e.index},{default:y((()=>[B(a)[e.list].length?(c(),f(i,{key:0,margin:[0,0],padding:[8,10]},{default:y((()=>[_(n,{class:x([{"u-m-t-12":0===t},"u-p-l-16"])},{default:y((()=>[_(n,null,{default:y((()=>[_(n,{class:"u-flex u-row-left u-col-center"},{default:y((()=>[_(n,null,{default:y((()=>[_(s,{class:"yx-text-weight-b u-font-28"},{default:y((()=>[m(h(e.title),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class"]),_(o,{class:x(["scroll-view u-flex u-p-t-10 u-p-b-16",[`el-${e.type}`]]),"scroll-x":"true","scroll-left":u.value[e.type],onScroll:t=>{return l=e.type,a=t,void(u.value[l]=a.detail.scrollLeft);var l,a}},{default:y((()=>[(c(!0),I(N,null,V(B(a)[e.list],((l,u)=>(c(),f(n,{class:"scroll-view-item"},{default:y((()=>[_(n,{class:x([{"scroll-view-item-active":B(a)[e.index]===u},"scroll-view-item-default"]),style:p({backgroundColor:B(a)[e.index]===u?"#2979ff":""}),onClick:e=>{return s=u,a[Ne[l=t]]=s,void(l<4&&(a[Ne[l+1]]=0,a[Re[l]]()));var l,s}},{default:y((()=>[(c(!0),I(N,null,V(B(Ie)[t].list,((o,i)=>(c(),f(n,null,{default:y((()=>[_(s,{color:B(a)[e.index]===u?"white":"black",class:"yx-text-weight-b u-font-22"},{default:y((()=>[m(h(l[o]+B(Ie)[t].suffix[i]),1)])),_:2},1032,["color"])])),_:2},1024)))),256))])),_:2},1032,["class","style","onClick"])])),_:2},1024)))),256))])),_:2},1032,["class","scroll-left","onScroll"])])),_:2},1024)):b("v-if",!0)])),_:2},1024)))),128)),B(a).currentDate?(c(),f(s,{key:0,class:"u-m-t-20 u-m-l-10 u-font-26 yx-text-weight-b"},{default:y((()=>[m(h(B(a).currentDate),1)])),_:1})):b("v-if",!0)])),_:1})}}},[["__scopeId","data-v-b1d6848c"]]),ze={__name:"scroll",setup(t){const l=o(),a=T(),u=C();function s(){var e;let t=null==(e=l.yearList[l.yearIndex])?void 0:e.pillar[1];return t+=a.bottom.year,ae[t]??"未犯太岁"}function n(){var e,t;const a=l.yearIndex;return(null==(e=l.yearList[a])?void 0:e.age)?(null==(t=l.yearList[a])?void 0:t.age)+"岁":""}return(t,o)=>{const i=k,r=A(d("u-icon"),e);return c(),f(i,null,{default:y((()=>[_(i,{class:"u-p-20"},{default:y((()=>[_(i,{class:"u-flex",style:{"justify-content":"space-between"}},{default:y((()=>[_(i,null,{default:y((()=>[_(i,{class:"yx-text-weight-b u-font-24"},{default:y((()=>[m(h("起运："+B(a).startTendDate),1)])),_:1}),_(i,{class:"yx-text-weight-b u-font-24"},{default:y((()=>[m(h("起运公历："+B(a).start_tend.date),1)])),_:1})])),_:1}),_(i,null,{default:y((()=>[_(i,{class:"u-flex u-row-right u-col-center"},{default:y((()=>[_(i,null,{default:y((()=>[_(i,{class:"yx-text-weight-b u-font-24"},{default:y((()=>[m(h(n()),1)])),_:1}),_(i,{class:"yx-text-weight-b u-font-24"},{default:y((()=>[m(h(s()),1)])),_:1})])),_:1}),_(i,{class:"u-m-l-20"},{default:y((()=>[_(r,{color:"#fea600",name:"calendar-fill",onClick:o[0]||(o[0]=e=>function(){const e=l.original,t=e[0].getStartYear(),a=e[e.length-1].getEndYear(),s=(new Date).getFullYear();s<t||s>a?uni.$u.toast("当前时间不在大运范围内!"):(l.SkipCurrentTime(),u.value.pullScrollLeft())}())})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),_(Ve,{ref_key:"scroll",ref:u},null,512)])),_:1})}}},De={__name:"major",setup:e=>(e,t)=>{const l=k,a=A(d("yx-coding"),Se);return c(),f(l,null,{default:y((()=>[_(Be),_(ze),_(l,{class:"u-m-t-20"},{default:y((()=>[_(we)])),_:1}),_(l,{class:"u-p-y-20"},{default:y((()=>[_(a,{title:"流运神煞"})])),_:1})])),_:1})}},Ge={__name:"index",setup(e){const t=T(),l=Y({list:[{key:0,name:"命主信息"},{key:1,name:"基本命盘"},{key:2,name:"专业细盘"},{key:3,name:"在线批命"}],current:0}),a=C(0),u=S((()=>`calc(100vh - ${Math.ceil(a.value)}px)`));H((()=>{t.timestamp||U(),s()}));const s=()=>{uni.$u.getRect("#header").then((e=>{a.value=e.height,M()}))};return(e,t)=>{const s=A(d("yx-nav-header"),i),n=A(d("u-subsection"),r),o=k,m=z,h=A(d("yx-foot"),ue);return c(),f(o,{style:{height:"100vh"}},{default:y((()=>[_(o,{id:"header",style:{position:"fixed",width:"100%"}},{default:y((()=>[_(s),_(ie),_(n,{modelValue:l.current,"onUpdate:modelValue":t[0]||(t[0]=e=>l.current=e),animation:!1,list:l.list,"active-color":"#2979ff","bg-color":"#FFFFFF",style:{"border-radius":"unset"}},null,8,["modelValue","list"])])),_:1}),_(m,{"scroll-y":"",class:"u-abso",style:p({top:a.value+"px",width:"100%",height:B(u)})},{default:y((()=>[_(o,{style:{"padding-bottom":"40px"}},{default:y((()=>[0===l.current?(c(),f(Ce,{key:0})):1===l.current?(c(),f(me,{key:1})):2===l.current?(c(),f(De,{key:2})):3===l.current?(c(),f(he,{key:3})):b("v-if",!0)])),_:1})])),_:1},8,["style"]),_(h)])),_:1})}}};export{Ge as default};
